<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="https://www.springframework.org/schema/beans"
	   xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
	   xmlns:security="https://www.springframework.org/schema/security"
	   xsi:schemaLocation="https://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
						   https://www.springframework.org/schema/security https://www.springframework.org/schema/security/spring-security.xsd">

	<!-- tag::config[] -->
	<security:http>
		<!-- other config goes here... -->
		<security:session-management>
			<security:concurrency-control max-sessions="2" session-registry-ref="sessionRegistry"/>
		</security:session-management>
	</security:http>

	<bean id="sessionRegistry"
		  class="org.springframework.session.security.SpringSessionBackedSessionRegistry">
		<constructor-arg ref="sessionRepository"/>
	</bean>
	<!-- end::config[] -->

</beans>
