apply from: JAVA_GRADLE
apply plugin: 'war'

buildscript {
  repositories {
    jcenter()
  }

  dependencies {
    classpath 'org.akhikhl.gretty:gretty:1.1.8'
  }
}

repositories {
  jcenter()
}

if (!project.plugins.findPlugin(org.akhikhl.gretty.GrettyPlugin))
  project.apply(plugin: org.akhikhl.gretty.GrettyPlugin)


apply plugin: 'rebel'

jar.dependsOn(generateRebel)
war.dependsOn(generateRebel)

tasks.findByPath("artifactoryPublish")?.enabled = false
sonarRunner {
    skipProject = true
}

dependencies {
    compile project(':spring-session-data-redis'),
            "org.springframework:spring-web:$springVersion",
            "redis.embedded:embedded-redis:0.2",
            "org.springframework.security:spring-security-config:$springSecurityVersion",
            "org.springframework.security:spring-security-web:$springSecurityVersion",
            jstlDependencies

    providedCompile "javax.servlet:javax.servlet-api:$servletApiVersion"

    testCompile 'junit:junit:4.11'

    integrationTestCompile gebDependencies


}
